<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
	<meta name="description" content="">
	<meta name="author" content="">
	<link rel="icon" href="../../favicon.ico">

	<title>Starter Template for Bootstrap</title>

	<!-- Bootstrap core CSS -->
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

	<!-- Custom styles for this template -->
	<link href="css/style.css" rel="stylesheet">

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
	  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
	<style>
	#inputnumber {font-size: 24px;}
</style>
</head>

<body>

	<div class="container">
		<div class="row">
			<div class="col-md-4 col-md-offset-4" style="margin-top:20px;">

				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title">Kalkulator Sederhana</h3>
					</div>
					<div class="panel-body">
						<input type="text" id="inputnumber" placeholder="0" class="form-control text-right">
						<br>
						<div class="row">
							<div class="col-md-3"><button class="angka btn btn-default btn-block">7</button></div>
							<div class="col-md-3"><button class="angka btn btn-default btn-block">8</button></div>
							<div class="col-md-3"><button class="angka btn btn-default btn-block">9</button></div>
							<div class="col-md-3"><button id="bagi" class="tanda btn btn-default btn-block">/</button></div>
						</div>
						<br>
						<div class="row">
							<div class="col-md-3"><button class="angka btn btn-default btn-block">4</button></div>
							<div class="col-md-3"><button class="angka btn btn-default btn-block">5</button></div>
							<div class="col-md-3"><button class="angka btn btn-default btn-block">6</button></div>
							<div class="col-md-3"><button id="kali" class="tanda btn btn-default btn-block">x</button></div>
						</div>
						<br>
						<div class="row">
							<div class="col-md-3"><button class="angka btn btn-default btn-block">1</button></div>
							<div class="col-md-3"><button class="angka btn btn-default btn-block">2</button></div>
							<div class="col-md-3"><button class="angka btn btn-default btn-block">3</button></div>
							<div class="col-md-3"><button id="kurang" class="tanda btn btn-default btn-block">-</button></div>
						</div>
						<br>
						<div class="row">
							<div class="col-md-3"><button class="angka btn btn-default btn-block">0</button></div>
							<div class="col-md-3"><button class="angka btn btn-default btn-block">00</button></div>
							<div class="col-md-3"><button class="bersihkan btn btn-default btn-block">C</button></div>
							<div class="col-md-3"><button id="tambah" class="tanda btn btn-default btn-block">+</button></div>
						</div>
						<br>
						<div class="row">
							<div class="col-md-12">
								<button id="samadengan" class="proses btn btn-success btn-block">=</button>
							</div>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>

	<!-- Bootstrap core JavaScript
		================================================== -->
		<!-- Placed at the end of the document so the pages load faster -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
		<script src="js/bootstrap.min.js"></script>

		<script>
		$(document).ready(function(){
			// nilai pertama
			var a = '';
			// nilai kedua
			var b = '';
			// untuk menandai state sedang mengisi a atau b
			var status = 'a';
			// untuk menyimpan operator
			var operator;
			// untuk menyimpan hasil operasi
			var hasil = 0;

			// ketika tombol angka manapun diklik
			$('.angka').on('click', function()
			{
				// ambil angka dari tombol
				var angka = $(this).text();

				if(status == 'a')
				{
					// gabungkan angka yang ditekan ke variabel nilai pertama
					a = a + angka;
					// tampilkan nilai pertama di kolom input
					$('#inputnumber').val( a );
				} else {
					// gabungkan angka yang ditekan ke variabel nilai kedua
					b = b + angka;
					// tampilkan nilai pertama di kolom input
					$('#inputnumber').val( b );
				}
				debug();
			});

			$('.tanda').on('click', function(){
				// ganti status jadi b
				status = 'b';
				operator = $(this).attr('id');
				debug();
			})

			$('.proses').on('click', function(){
				// parsing dulu jadi integer
				a = parseInt(a);
				b = parseInt(b);

				// proses dua nilai berdasarkan operator
				switch(operator){
					case "bagi":
						hasil = a / b;
						break;
					case "kali":
						hasil = a * b;
						break;
					case "kurang":
						hasil = a - b;
						break;
					case "tambah":
						hasil = a + b;
						break;
				}

				$('#inputnumber').val(hasil);
				debug();
			})

			$('.bersihkan').on('click', function(){
				$('#inputnumber').val('0');
				a = '';
				b = '';
				status = 'a';
				operator = '';
				hasil = 0;
				debug();
			})

			function debug(){
				console.log("a= " + a);
				console.log("b= " + b);
				console.log("hasil= " + hasil);
				console.log("operator= " + operator);
				console.log("status= " + status);
				console.log("-------------------");
			}

		})
	</script>

</body>
</html>
